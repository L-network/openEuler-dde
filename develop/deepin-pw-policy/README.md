# pw_policy

#### 介绍

openEuler 使用 pam 做为操作系统的认证模块，普通登陆，ssh登陆等等都会使用pam进行认证。但是pam的配置非常复杂，并且支持可插拔特性，导致运维管理员去配置认证策略非常复杂。期望提供一款易用的dde桌面应用pw_policy，简化密码策略配置。

pw_policy前端使用pyqt开发，后端对pam文件进行修改。

#### pam文件修改方式

按先删除再添加的策略。

遍历文件第一遍，删除已有的配置行。

遍历文件第二遍，在特定位置插入配置行。

#### 开发进度

pw_policy分成普通登录配置策略、ssh登录配置策略和口令复杂度三部分，目前配置策略完成情况如下：

| ssh登录配置策略-计划实现 | 开发状态 |
| ------------------------ | -------- |
| 连续登录最大失败次数     | 已完成   |
| 失败锁定时间已完成       | 已完成   |
| 禁止某些用户经过SSH登陆  | 待开发   |

| 普通登录配置策略-计划实现      | 开发状态 |
| ------------------------------ | -------- |
| 是否限制用户登录到root用户     | 已完成   |
| 连续登录最大失败次数，锁定时间 | 已完成   |
| 某个用户最多同时登陆个数       | 待开发   |

| 口令复杂度配置策略 | 已完成 |
| ------------------ | ------ |

后续会美化界面适配dde桌面。

#### 使用说明

1.对pam文件进行错误的修改会造成不可挽回的很多问题，测试阶段谨慎使用。

